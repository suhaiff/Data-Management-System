{% extends "base.html" %}
{% block content %}
<div class="nav-buttons mb-4">
    <button onclick="history.back()" class="btn btn-secondary me-2">
        <i class="fas fa-arrow-left me-1"></i> Previous
    </button>
    <a href="/" class="btn btn-primary me-2">
        <i class="fas fa-home me-1"></i> Home
    </a>
    <button onclick="history.forward()" class="btn btn-secondary">
        Next <i class="fas fa-arrow-right ms-1"></i>
    </button>
</div>

<h2 class="mb-4">Data Model 2 — Chart Configuration</h2>

<div class="container chart-config-card">
  <form method="POST" action="/data_model_2">
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="sheet_name" class="form-label">Select Table (Sheet)</label>
        <select class="form-select" name="sheet_name" id="sheet_name">
          <option value="Sheet1">Sheet 1</option>
          <option value="Sheet2">Sheet 2</option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="chart_type" class="form-label">Select Chart Type</label>
        <select class="form-select" name="chart_type" id="chart_type">
          <option value="bar">Bar Chart</option>
          <option value="line">Line Chart</option>
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label for="x_column" class="form-label">Select X-Axis Column</label>
        <select class="form-select" name="x_column" id="x_column">
          {% for col in columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label for="y_column" class="form-label">Select Y-Axis Column</label>
        <select class="form-select" name="y_column" id="y_column">
          {% for col in columns %}
          <option value="{{ col }}">{{ col }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label for="operation" class="form-label">Operation</label>
        <select class="form-select" name="operation" id="operation">
          <option value="none">None</option>
          <option value="sum">Sum</option>
          <option value="avg">Average</option>
          <option value="count">Count</option>
          <option value="distinct_count">Distinct Count</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="font" class="form-label">Font</label>
        <select class="form-select" name="font" id="font">
          <option value="Arial" style="font-family: Arial;">Arial</option>
          <option value="Verdana" style="font-family: Verdana;">Verdana</option>
          <option value="Times New Roman" style="font-family: 'Times New Roman';">Times New Roman</option>
          <option value="Georgia" style="font-family: Georgia;">Georgia</option>
          <option value="Courier New" style="font-family: 'Courier New';">Courier New</option>
          <option value="Trebuchet MS" style="font-family: 'Trebuchet MS';">Trebuchet MS</option>
          <option value="Lucida Sans" style="font-family: 'Lucida Sans';">Lucida Sans</option>
          <option value="Tahoma" style="font-family: Tahoma;">Tahoma</option>
          <option value="Comic Sans MS" style="font-family: 'Comic Sans MS';">Comic Sans</option>
          <option value="Roboto" style="font-family: Roboto;">Roboto</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="color" class="form-label">Color</label>
        <input type="color" class="form-control form-control-color" name="color" id="color" value="#007bff">
      </div>
    </div>

    <!-- ✅ New row for Chart Width & Height -->
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="width" class="form-label">Chart Width (px)</label>
        <input type="number" class="form-control" name="width" id="width" value="800" min="400" max="2000">
      </div>
      <div class="col-md-6">
        <label for="height" class="form-label">Chart Height (px)</label>
        <input type="number" class="form-control" name="height" id="height" value="600" min="300" max="1500">
      </div>
    </div>

    <div class="d-flex gap-2 mt-3">
      <button type="submit" class="btn btn-primary">Generate Chart</button>
      <button type="button" class="btn btn-success" onclick="window.location.href='/view_table'">View Table</button>
    </div>
  </form>
</div>
{% endblock %}
